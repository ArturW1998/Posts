(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(39)},27:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var u=a(4),i=a(1),m=a(2),h=a(18),d=a.n(h),f=a(19),p=function e(){var t=this;Object(f.a)(this,e),this.localStorageKey="state",this.setItem=function(e){return localStorage.setItem(t.localStorageKey,JSON.stringify(e))},this.getItem=function(){return JSON.parse(localStorage.getItem(t.localStorageKey))}},v=function(e){return e.padStart(2,"0")},b=function(e){var t=new Date(1e3*e),a=v("".concat(t.getHours())),n=v("".concat(t.getMinutes())),r=v("".concat(t.getDate())),c=v("".concat(t.getMonth()+1)),l=t.getFullYear();return e?"".concat(a," : ").concat(n," - ").concat(r," : ").concat(c," : ").concat(l):null},g=function(e,t){return!(e.trim()&&t.trim())},E=function(e,t,a){return t[e].toLowerCase()!==a[e].toLowerCase()},N=function(e,t){var a={users:e,articles:t};(new p).setItem(a)},j=function(e){return d()("page-item",{disabled:e})},O=function(e){var t=Object(n.useState)(1),a=Object(m.a)(t,2),r=a[0],c=a[1],l=function(e,t){var a=e*H,n=a-H;return[Math.ceil(t.length/H),t.slice(n,a)]}(r,e),o=Object(m.a)(l,2),s=o[0],u=o[1];return[r,function(e){e===$?r!==s&&c(r+1):e===Y&&r!==q&&c(r-1)},s,u]},k=(a(27),function(e){var t=e.articles;return r.a.createElement(r.a.Fragment,null,t.map(function(e){var t=e.title,a=e.created_ad,n=e.description,c=e.author;return r.a.createElement("div",{key:a,className:"col-12 article list-group-item"},r.a.createElement(u.b,{className:"title-post",to:a},t),r.a.createElement("p",{className:"post-desc"},n),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},c),r.a.createElement("div",{className:"col-6"},b(a))))}))});k.defaultProps={articles:[]};var w=k,y=function(e){var t=e.totalItems,a=e.currentPage,n=e.paginate;if(t<=1)return null;var c=a===q,l=a===t;return r.a.createElement("div",{className:"col-12"},r.a.createElement("nav",{"aria-label":"Page navigation"},r.a.createElement("ul",{className:"pagination justify-content-center"},r.a.createElement("li",{className:j(c)},r.a.createElement("button",{onClick:function(){return n(Y)},className:"arrow-left page-link"},"<")),r.a.createElement("li",{className:"page-item"},r.a.createElement("span",{className:"page-link"},a," of ",t)),r.a.createElement("li",{className:j(l)},r.a.createElement("button",{onClick:function(){return n($)},className:"arrow-right page-link"},">")))))};y.defaultProps={totalItems:1,currentPage:1,paginate:function(){}};var P=y,L=a(10),x=function(){var e=Object(n.useContext)(V),t=Object(m.a)(e,2),a=t[0],r=t[1],c=a.users,l=a.articles,o=Object(n.useState)({checkLength:!1,checkEmpty:!1,checkName:!1,checkPass:!1}),s=Object(m.a)(o,2),u=s[0],h=s[1],d=Object(n.useState)({userName:"",pass:""}),f=Object(m.a)(d,2),p=f[0],v=f[1],b=p.userName,j=p.pass;return[function(e){if(e.preventDefault(),g(b,j))return h(Object(i.a)({},u,{checkEmpty:!0}));if(h(Object(i.a)({},u,{checkEmpty:!1})),function(e,t){return!!(e.length<3||e.length>14||t.length<3||t.length>14)}(b,j))return h(Object(i.a)({},u,{checkLength:!0}));h(Object(i.a)({},u,{checkLength:!1}));var t={userName:b,pass:j},a=c.findIndex(function(e){return e.userName.toLowerCase()===t.userName.toLowerCase()});if(a>=0){if(E(G,c[a],t))return h(Object(i.a)({},u,{checkName:!0}));if(h(Object(i.a)({},u,{checkName:!1})),E(Q,c[a],t))return h(Object(i.a)({},u,{checkPass:!0}));h(Object(i.a)({},u,{checkPass:!1}));var n=c.map(function(e){return e.userName===t.userName?Object(i.a)({},e,{auth:!0}):Object(i.a)({},e)});r(function(e){return Object(i.a)({},e,{users:n,userAuth:c[a]})}),N(n,l)}else c.push(Object(i.a)({},t,{auth:!0})),r(function(e){return Object(i.a)({},e,{users:c,userAuth:c[c.length-1]})}),N(c,l);v({userName:"",pass:""})},function(e){var t=e.target,a=t.name,n=t.value;v(Object(i.a)({},p,Object(L.a)({},a,n)))},u,p]},A=function(e){var t=e.checkLength,a=e.checkName,n=e.checkEmpty,c=e.checkPass,l=e.checkLengthEdit;return r.a.createElement(r.a.Fragment,null,t||a||n||c||l?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},t&&r.a.createElement("p",null,"Form fields must have more than 2 characters and no more than 14."),a&&r.a.createElement("p",null,"Wrong name entered."),n&&r.a.createElement("p",null,"Fields must not be empty or have spaces."),c&&r.a.createElement("p",null,"Password entered incorrectly."),l&&r.a.createElement("p",null,"Form fields must have more than 4 characters and title should not have more than 24 characters.")):null)};A.defaultProps={checkLength:!1,checkName:!1,checkEmpty:!1,checkPass:!1,checkLengthEdit:!1};var C=A,S=(a(33),function(){var e=x(),t=Object(m.a)(e,4),a=t[0],n=t[1],c=t[2],l=t[3],o=l.userName,s=l.pass,u=c.checkLength,i=c.checkName,h=c.checkEmpty,d=c.checkPass;return r.a.createElement("form",{className:"form-signin",onSubmit:a},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal text-center"},"Please sign in"),r.a.createElement("input",{type:"text",name:G,id:"userName",className:"form-control",placeholder:"Name",value:o,onChange:n}),r.a.createElement("input",{type:"password",name:Q,id:"inputPassword",className:"form-control",placeholder:"Password",value:s,onChange:n}),r.a.createElement(C,{checkLength:u,checkName:i,checkEmpty:h,checkPass:d}),r.a.createElement("input",{className:"btn btn-lg btn-form btn-block",type:"submit",value:"Sign in"}))}),F=function(e){var t=e.userAuth;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(u.b,{to:"/edit",className:"create-ad btn btn-form"},"Create Ad"):r.a.createElement(S,null))};F.defaultProps={userAuth:null};var I=F,D=(a(34),function(){var e=Object(n.useContext)(V),t=Object(m.a)(e,1)[0],a=t.articles,c=t.userAuth,l=O(a),o=Object(m.a)(l,4),s=o[0],u=o[1],i=o[2],h=o[3];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row wrapper"},r.a.createElement(I,{userAuth:c}),r.a.createElement(w,{articles:h}),r.a.createElement(P,{currentPage:s,totalItems:i,paginate:u})))}),W=a(8),_=function(e){var t=Object(n.useContext)(V),a=Object(m.a)(t,2),r=a[0],c=a[1],l=r.userAuth,o=r.articles,s=r.users,u=Object(n.useState)({title:"",desc:""}),h=Object(m.a)(u,2),d=h[0],f=h[1],p=d.title,v=d.desc,b=Object(n.useState)({checkLengthEdit:!1,checkEmpty:!1}),E=Object(m.a)(b,2),j=E[0],O=E[1];return[function(e){var t=e.target,a=t.value,n=t.name;f(Object(i.a)({},d,Object(L.a)({},n,a)))},function(t){if(t.preventDefault(),g(p,v))return O(Object(i.a)({},j,{checkEmpty:!0}));if(O(Object(i.a)({},j,{checkEmpty:!1})),function(e,t){return!!(e.length<4||e.length>24||t.length<4)}(p,v))return O(Object(i.a)({},j,{checkLengthEdit:!0}));O(Object(i.a)({},j,{checkLengthEdit:!1}));var a=(Date.now()/1e3).toFixed(),n={title:p,description:v,author:l.userName,created_ad:a};o.push(Object(i.a)({},n)),c(function(e){return Object(i.a)({},e,{articles:o})}),N(s,o),e.push("/".concat(a)),f({title:"",desc:""})},j,d,l]},J=(a(35),function(e){var t=e.history,a=_(t),n=Object(m.a)(a,5),c=n[0],l=n[1],o=n[2],s=n[3],u=n[4],i=s.title,h=s.desc,d=o.checkLengthEdit,f=o.checkEmpty;return u?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"create-article",onSubmit:l},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",className:"form-control",name:"title",id:"title","aria-describedby":"title",placeholder:"Title",value:i,onChange:c}),r.a.createElement("label",{htmlFor:"desc"},"Description"),r.a.createElement("textarea",{className:"form-control desc",name:"desc",id:"desc",rows:"3",placeholder:"Description",value:h,onChange:c}),r.a.createElement(C,{checkLengthEdit:d,checkEmpty:f}),r.a.createElement("input",{type:"submit",className:"btn btn-form",value:"Create"})))):r.a.createElement(W.a,{to:"/"})});J.defaultProps={history:{push:function(){}}};var T=Object(W.g)(J),K=function(e,t){var a=Object(n.useContext)(V),r=Object(m.a)(a,2),c=r[0],l=r[1],o=c.articles,s=c.userAuth,u=c.users,h=o?o.find(function(t){return t.created_ad===e}):null;return[h,s,function(){var e=h.created_ad,a=o.filter(function(t){return t.created_ad!==e});l(function(e){return Object(i.a)({},e,{articles:a})}),N(u,a),t.push("/")}]},M=function(e){var t=e.userAuth,a=e.author,n=e.delPost;return r.a.createElement(r.a.Fragment,null,null!==t&&t.userName===a?r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:n},"Delete"):null)};M.defaultProps={userAuth:null,author:"",delPost:function(){}};var R=M,U=(a(36),function(e){var t=e.match.params.id,a=e.history,n=K(t,a),c=Object(m.a)(n,3),l=c[0],o=c[1],s=c[2];if(!l)return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Post not found"));var u=l.title,i=l.description,h=l.author,d=l.created_ad,f=b(d);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 article article-post"},r.a.createElement("h3",{className:"title-post"},u),r.a.createElement("p",{className:"post-desc"},i),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},h),r.a.createElement("div",{className:"col-6"},f)))),r.a.createElement(R,{author:h,userAuth:o,delPost:s}))});U.defaultProps={match:{params:{id:""}},history:{push:function(){}}};var B=Object(W.g)(U),H=5,Y="prev",$="next",q=1,z=[{id:0,path:"/",component:D,exact:!0},{id:1,path:"/edit/",component:T,exact:!0},{id:2,path:"/:id",component:B,exact:!0}],G="userName",Q="pass",V=r.a.createContext([{},function(){}]),X=function(e){var t=e.children,a=(new p).getItem(),c=Object(n.useState)({userAuth:null,articles:a?a.articles:[],users:a?a.users:[]}),l=Object(m.a)(c,2),o=l[0],s=l[1];Object(n.useEffect)(function(){var e=o.users.findIndex(function(e){return e.auth});e>=0&&s(function(t){return Object(i.a)({},t,{userAuth:t.users[e]})})},[o.users]);var u=[o,s];return r.a.createElement(V.Provider,{value:u},t)};X.defaultProps={children:null};var Z=function(){var e=Object(n.useContext)(V),t=Object(m.a)(e,2),a=t[0],c=t[1],l=a.users,o=a.userAuth,s=a.articles;return[o,function(e){e.preventDefault();var t=l.map(function(e){return e.auth?Object(i.a)({},e,{auth:!1}):Object(i.a)({},e)});return c(function(e){return Object(i.a)({},e,{users:t,userAuth:null})}),N(t,s),r.a.createElement(W.a,{to:"/"})}]},ee=(a(37),function(e){var t=e.userAuth,a=e.onLogout;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"name text-light"},t.userName),r.a.createElement(u.b,{onClick:a,to:"logout",className:"user text-light"},"Logout")))});ee.defaultProps={userAuth:null,onLogout:function(){}};var te=ee,ae=(a(38),function(){var e=Z(),t=Object(m.a)(e,2),a=t[0],n=t[1];return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-sm"},r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/",className:"navbar-brand"},"Logo"),r.a.createElement(te,{userAuth:a,onLogout:n}))))}),ne=function(){return r.a.createElement("div",null,r.a.createElement(ae,null),r.a.createElement(W.d,null,z.map(function(e){var t=e.id,a=e.path,n=e.component,c=e.exact;return r.a.createElement(W.b,{key:t,path:a,component:n,exact:c})})))},re=function(){return r.a.createElement(u.a,null,r.a.createElement(X,null,r.a.createElement(ne,null)))};l.a.render(r.a.createElement(re,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Posts",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Posts","/service-worker.js");o?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):s(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):s(t,e)})}}()}},[[22,1,2]]]);
//# sourceMappingURL=main.70beab8e.chunk.js.map